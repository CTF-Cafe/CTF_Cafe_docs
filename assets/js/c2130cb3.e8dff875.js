"use strict";(self.webpackChunkctf_cafe=self.webpackChunkctf_cafe||[]).push([[60],{3905:(e,t,a)=>{a.d(t,{Zo:()=>k,kt:()=>h});var l=a(7294);function n(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,l)}return a}function p(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){n(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function i(e,t){if(null==e)return{};var a,l,n=function(e,t){if(null==e)return{};var a,l,n={},r=Object.keys(e);for(l=0;l<r.length;l++)a=r[l],t.indexOf(a)>=0||(n[a]=e[a]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(l=0;l<r.length;l++)a=r[l],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(n[a]=e[a])}return n}var o=l.createContext({}),u=function(e){var t=l.useContext(o),a=t;return e&&(a="function"==typeof e?e(t):p(p({},t),e)),a},k=function(e){var t=u(e.components);return l.createElement(o.Provider,{value:t},e.children)},s="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return l.createElement(l.Fragment,{},t)}},d=l.forwardRef((function(e,t){var a=e.components,n=e.mdxType,r=e.originalType,o=e.parentName,k=i(e,["components","mdxType","originalType","parentName"]),s=u(a),d=n,h=s["".concat(o,".").concat(d)]||s[d]||m[d]||r;return a?l.createElement(h,p(p({ref:t},k),{},{components:a})):l.createElement(h,p({ref:t},k))}));function h(e,t){var a=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var r=a.length,p=new Array(r);p[0]=d;var i={};for(var o in t)hasOwnProperty.call(t,o)&&(i[o]=t[o]);i.originalType=e,i[s]="string"==typeof e?e:n,p[1]=i;for(var u=2;u<r;u++)p[u]=a[u];return l.createElement.apply(null,p)}return l.createElement.apply(null,a)}d.displayName="MDXCreateElement"},6662:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>o,contentTitle:()=>p,default:()=>m,frontMatter:()=>r,metadata:()=>i,toc:()=>u});var l=a(7462),n=(a(7294),a(3905));const r={sidebar_position:3},p="Admin Routes",i={unversionedId:"API/admin",id:"API/admin",title:"Admin Routes",description:"backEnd/routes/admin.js",source:"@site/docs/API/admin.md",sourceDirName:"API",slug:"/API/admin",permalink:"/CTF_Cafe_docs/docs/API/admin",draft:!1,editUrl:"https://github.com/CTF-Cafe/CTF_Cafe_docs/tree/main/docs/API/admin.md",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3},sidebar:"tutorialSidebar",previous:{title:"User Routes",permalink:"/CTF_Cafe_docs/docs/API/user"},next:{title:"Validation Schemas",permalink:"/CTF_Cafe_docs/docs/API/utils/schemas"}},o={},u=[{value:"POST /getLogs",id:"post-getlogs",level:2},{value:"POST /getUsers",id:"post-getusers",level:2},{value:"POST /getTeams",id:"post-getteams",level:2},{value:"POST /deleteUser",id:"post-deleteuser",level:2},{value:"POST /deleteTeam",id:"post-deleteteam",level:2},{value:"POST /addAdmin",id:"post-addadmin",level:2},{value:"POST /removeAdmin",id:"post-removeadmin",level:2},{value:"POST /shadowBan",id:"post-shadowban",level:2},{value:"POST /unShadowBan",id:"post-unshadowban",level:2},{value:"POST /setUserAdminPoints",id:"post-setuseradminpoints",level:2},{value:"POST /changeUserPassword",id:"post-changeuserpassword",level:2},{value:"POST /getStats",id:"post-getstats",level:2},{value:"GET /getAssets",id:"get-getassets",level:2},{value:"POST /saveConfigs",id:"post-saveconfigs",level:2},{value:"POST /deleteAsset",id:"post-deleteasset",level:2},{value:"POST /uploadAsset",id:"post-uploadasset",level:2},{value:"POST /saveChallenge",id:"post-savechallenge",level:2},{value:"POST /createChallenge",id:"post-createchallenge",level:2},{value:"POST /updateChallengeCategory",id:"post-updatechallengecategory",level:2},{value:"POST /deleteChallenge",id:"post-deletechallenge",level:2},{value:"POST /saveTheme",id:"post-savetheme",level:2},{value:"POST /sendGlobalMessage",id:"post-sendglobalmessage",level:2},{value:"POST /getDockers",id:"post-getdockers",level:2},{value:"POST /shutdownDocker",id:"post-shutdowndocker",level:2},{value:"POST /restartDocker",id:"post-restartdocker",level:2}],k={toc:u},s="wrapper";function m(e){let{components:t,...a}=e;return(0,n.kt)(s,(0,l.Z)({},k,a,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"admin-routes"},"Admin Routes"),(0,n.kt)("p",null,(0,n.kt)("em",{parentName:"p"},"backEnd/routes/admin.js")),(0,n.kt)("admonition",{type:"info"},(0,n.kt)("p",{parentName:"admonition"},"All of these endpoints require the user to be authenticated and be an Admin.\nPS : These endpoints have still not implemented express-validator, which is why their is missing entries.")),(0,n.kt)("h2",{id:"post-getlogs"},"POST /getLogs"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Get all logs")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Key"),(0,n.kt)("th",{parentName:"tr",align:null},"Required"),(0,n.kt)("th",{parentName:"tr",align:null},"Schema"),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"page"),(0,n.kt)("td",{parentName:"tr",align:null},"true"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"utils/schemas#page"},"page")),(0,n.kt)("td",{parentName:"tr",align:null},"Current Page (to limit result by 100 per page)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"search"),(0,n.kt)("td",{parentName:"tr",align:null},"true"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"utils/schemas#search"},"search")),(0,n.kt)("td",{parentName:"tr",align:null},"Search to filter users")))),(0,n.kt)("h2",{id:"post-getusers"},"POST /getUsers"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Get all users")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Key"),(0,n.kt)("th",{parentName:"tr",align:null},"Required"),(0,n.kt)("th",{parentName:"tr",align:null},"Schema"),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"page"),(0,n.kt)("td",{parentName:"tr",align:null},"true"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"utils/schemas#page"},"page")),(0,n.kt)("td",{parentName:"tr",align:null},"Current Page (to limit result by 100 per page)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"search"),(0,n.kt)("td",{parentName:"tr",align:null},"true"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"utils/schemas#search"},"search")),(0,n.kt)("td",{parentName:"tr",align:null},"Search to filter users")))),(0,n.kt)("h2",{id:"post-getteams"},"POST /getTeams"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Get all teams")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Key"),(0,n.kt)("th",{parentName:"tr",align:null},"Required"),(0,n.kt)("th",{parentName:"tr",align:null},"Schema"),(0,n.kt)("th",{parentName:"tr",align:null},"Description"))),(0,n.kt)("tbody",{parentName:"table"},(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"page"),(0,n.kt)("td",{parentName:"tr",align:null},"true"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"utils/schemas#page"},"page")),(0,n.kt)("td",{parentName:"tr",align:null},"Current Page (to limit result by 100 per page)")),(0,n.kt)("tr",{parentName:"tbody"},(0,n.kt)("td",{parentName:"tr",align:null},"search"),(0,n.kt)("td",{parentName:"tr",align:null},"true"),(0,n.kt)("td",{parentName:"tr",align:null},(0,n.kt)("a",{parentName:"td",href:"utils/schemas#search"},"search")),(0,n.kt)("td",{parentName:"tr",align:null},"Search to filter users")))),(0,n.kt)("h2",{id:"post-deleteuser"},"POST /deleteUser"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Delete a user")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Key"),(0,n.kt)("th",{parentName:"tr",align:null},"Required"),(0,n.kt)("th",{parentName:"tr",align:null},"Schema"),(0,n.kt)("th",{parentName:"tr",align:null},"Description")))),(0,n.kt)("h2",{id:"post-deleteteam"},"POST /deleteTeam"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Delete a team")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Key"),(0,n.kt)("th",{parentName:"tr",align:null},"Required"),(0,n.kt)("th",{parentName:"tr",align:null},"Schema"),(0,n.kt)("th",{parentName:"tr",align:null},"Description")))),(0,n.kt)("h2",{id:"post-addadmin"},"POST /addAdmin"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Promote User to Admin")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Key"),(0,n.kt)("th",{parentName:"tr",align:null},"Required"),(0,n.kt)("th",{parentName:"tr",align:null},"Schema"),(0,n.kt)("th",{parentName:"tr",align:null},"Description")))),(0,n.kt)("h2",{id:"post-removeadmin"},"POST /removeAdmin"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Demote Admin to User")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Key"),(0,n.kt)("th",{parentName:"tr",align:null},"Required"),(0,n.kt)("th",{parentName:"tr",align:null},"Schema"),(0,n.kt)("th",{parentName:"tr",align:null},"Description")))),(0,n.kt)("h2",{id:"post-shadowban"},"POST /shadowBan"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Shadow ban user (unable to be seen by other's except people in his team and himself)")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Key"),(0,n.kt)("th",{parentName:"tr",align:null},"Required"),(0,n.kt)("th",{parentName:"tr",align:null},"Schema"),(0,n.kt)("th",{parentName:"tr",align:null},"Description")))),(0,n.kt)("h2",{id:"post-unshadowban"},"POST /unShadowBan"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Remove shadow ban on user")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Key"),(0,n.kt)("th",{parentName:"tr",align:null},"Required"),(0,n.kt)("th",{parentName:"tr",align:null},"Schema"),(0,n.kt)("th",{parentName:"tr",align:null},"Description")))),(0,n.kt)("h2",{id:"post-setuseradminpoints"},"POST /setUserAdminPoints"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Set adminPoints for a certain user")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Key"),(0,n.kt)("th",{parentName:"tr",align:null},"Required"),(0,n.kt)("th",{parentName:"tr",align:null},"Schema"),(0,n.kt)("th",{parentName:"tr",align:null},"Description")))),(0,n.kt)("h2",{id:"post-changeuserpassword"},"POST /changeUserPassword"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Change a user's password")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Key"),(0,n.kt)("th",{parentName:"tr",align:null},"Required"),(0,n.kt)("th",{parentName:"tr",align:null},"Schema"),(0,n.kt)("th",{parentName:"tr",align:null},"Description")))),(0,n.kt)("h2",{id:"post-getstats"},"POST /getStats"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Get all CTF Stats")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Key"),(0,n.kt)("th",{parentName:"tr",align:null},"Required"),(0,n.kt)("th",{parentName:"tr",align:null},"Schema"),(0,n.kt)("th",{parentName:"tr",align:null},"Description")))),(0,n.kt)("h2",{id:"get-getassets"},"GET /getAssets"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Get all uploaded assets")),(0,n.kt)("h2",{id:"post-saveconfigs"},"POST /saveConfigs"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Save CTF Configs")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Key"),(0,n.kt)("th",{parentName:"tr",align:null},"Required"),(0,n.kt)("th",{parentName:"tr",align:null},"Schema"),(0,n.kt)("th",{parentName:"tr",align:null},"Description")))),(0,n.kt)("h2",{id:"post-deleteasset"},"POST /deleteAsset"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Delete an uploaded asset")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Key"),(0,n.kt)("th",{parentName:"tr",align:null},"Required"),(0,n.kt)("th",{parentName:"tr",align:null},"Schema"),(0,n.kt)("th",{parentName:"tr",align:null},"Description")))),(0,n.kt)("h2",{id:"post-uploadasset"},"POST /uploadAsset"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Upload an asset")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Key"),(0,n.kt)("th",{parentName:"tr",align:null},"Required"),(0,n.kt)("th",{parentName:"tr",align:null},"Schema"),(0,n.kt)("th",{parentName:"tr",align:null},"Description")))),(0,n.kt)("h2",{id:"post-savechallenge"},"POST /saveChallenge"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Update a challenge")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Key"),(0,n.kt)("th",{parentName:"tr",align:null},"Required"),(0,n.kt)("th",{parentName:"tr",align:null},"Schema"),(0,n.kt)("th",{parentName:"tr",align:null},"Description")))),(0,n.kt)("h2",{id:"post-createchallenge"},"POST /createChallenge"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Create a new challenge")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Key"),(0,n.kt)("th",{parentName:"tr",align:null},"Required"),(0,n.kt)("th",{parentName:"tr",align:null},"Schema"),(0,n.kt)("th",{parentName:"tr",align:null},"Description")))),(0,n.kt)("h2",{id:"post-updatechallengecategory"},"POST /updateChallengeCategory"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Change challenge category")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Key"),(0,n.kt)("th",{parentName:"tr",align:null},"Required"),(0,n.kt)("th",{parentName:"tr",align:null},"Schema"),(0,n.kt)("th",{parentName:"tr",align:null},"Description")))),(0,n.kt)("h2",{id:"post-deletechallenge"},"POST /deleteChallenge"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Delete a challenge")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Key"),(0,n.kt)("th",{parentName:"tr",align:null},"Required"),(0,n.kt)("th",{parentName:"tr",align:null},"Schema"),(0,n.kt)("th",{parentName:"tr",align:null},"Description")))),(0,n.kt)("h2",{id:"post-savetheme"},"POST /saveTheme"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Update the CTF Theme")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Key"),(0,n.kt)("th",{parentName:"tr",align:null},"Required"),(0,n.kt)("th",{parentName:"tr",align:null},"Schema"),(0,n.kt)("th",{parentName:"tr",align:null},"Description")))),(0,n.kt)("h2",{id:"post-sendglobalmessage"},"POST /sendGlobalMessage"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Send a global message to all users")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Key"),(0,n.kt)("th",{parentName:"tr",align:null},"Required"),(0,n.kt)("th",{parentName:"tr",align:null},"Schema"),(0,n.kt)("th",{parentName:"tr",align:null},"Description")))),(0,n.kt)("h2",{id:"post-getdockers"},"POST /getDockers"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Get all of the launched dockers and their info")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Key"),(0,n.kt)("th",{parentName:"tr",align:null},"Required"),(0,n.kt)("th",{parentName:"tr",align:null},"Schema"),(0,n.kt)("th",{parentName:"tr",align:null},"Description")))),(0,n.kt)("h2",{id:"post-shutdowndocker"},"POST /shutdownDocker"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Shutdown a specific challenge docker")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Key"),(0,n.kt)("th",{parentName:"tr",align:null},"Required"),(0,n.kt)("th",{parentName:"tr",align:null},"Schema"),(0,n.kt)("th",{parentName:"tr",align:null},"Description")))),(0,n.kt)("h2",{id:"post-restartdocker"},"POST /restartDocker"),(0,n.kt)("blockquote",null,(0,n.kt)("p",{parentName:"blockquote"},"Restart a specific challenge docker")),(0,n.kt)("table",null,(0,n.kt)("thead",{parentName:"table"},(0,n.kt)("tr",{parentName:"thead"},(0,n.kt)("th",{parentName:"tr",align:null},"Key"),(0,n.kt)("th",{parentName:"tr",align:null},"Required"),(0,n.kt)("th",{parentName:"tr",align:null},"Schema"),(0,n.kt)("th",{parentName:"tr",align:null},"Description")))))}m.isMDXComponent=!0}}]);